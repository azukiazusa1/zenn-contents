---
title: "ã€Vue3.2ã€‘styleã‚¿ã‚°å†…ã§JavaScriptå¤‰æ•°ã‚’ãƒã‚¤ãƒ³ãƒ‰ã§ãã‚‹"
emoji: "ğŸŒ¾"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [vue]
published: true
---

Vue.js3.2ã‹ã‚‰ã¯ã€JavaScriptã®å¤‰æ•°ã‚’CSSå¤‰æ•°ã¨ã—ã¦ãƒã‚¤ãƒ³ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ã¤ã¾ã‚Šã¯ã€CSSã®å€¤ã‚’å‹•çš„ã«è¨­å®šã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

ã‚‚ã®ã¯è©¦ã—ã®ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```vue
<script setup lang="ts">
import { ref } from "@vue/reactivity";
const color = ref("#000000");
</script>

<template>
  <h1 class="title">ã‚¿ã‚¤ãƒˆãƒ«</h1>
  <input type="color" v-model="color" />
</template>

<style>
.title {
  color: v-bind(color);
}
</style>
```

`<script>`ã‚¿ã‚°å†…ã§å®£è¨€ã—ãŸ`color`ã¨ã„ã†å¤‰æ•°ã‚’`<style>`ã‚¿ã‚°å†…ã§`v-bind(color);`ã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

ç”Ÿæˆã•ã‚ŒãŸCSSã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã«ãªã£ã¦ã„ã¾ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-09-19 22.41.48](//images.contentful.com/in6v9lxmm5c8/3m4rIIOwj1HDzFkxVt5GUS/2d8df58ddea780714b7fbafd15355b4d/____________________________2021-09-19_22.41.48.png)

1. `--7ba5bd90-color`ã®ã‚ˆã†ã«ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸCSSå¤‰æ•°ãŒã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã¨ã—ã¦å®šç¾©ã•ã‚Œã¾ã™ã€‚
2. `<style>`ã‚¿ã‚°ã§ãƒã‚¤ãƒ³ãƒ‰ã—ãŸJavaScipptå¤‰æ•°ã¯ä¸Šè¨˜ã®ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸCSSå¤‰æ•°ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚

ã‚‚ã¡ã‚ã‚“ã€JavaScriptã§å®£è¨€ã—ãŸãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå¤‰æ•°ã®å€¤ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã³ã«CSSå¤‰æ•°ã®å€¤ã‚‚å¤‰åŒ–ã•ã‚Œã¾ã™ã€‚

![css-bind](//images.contentful.com/in6v9lxmm5c8/5zACPhuaBBkRFwAf1Si9q8/a9c25531c0e612ddfe26be426719d76c/css-bind.gif)

ã“ã“ã¾ã§ãŒåŸºæœ¬çš„ãªæ©Ÿèƒ½ã®èª¬æ˜ã§ã™ã€‚ä»–ã«ã‚‚ã„ã‚ã„ã‚è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## JavaScriptå¼ã®å±•é–‹

VSCodeã«ã¯ãªã«ã‹æ€’ã‚‰ã‚Œã‚‹ã‘ã‚Œã©ã€`<template>`ã§ã®`v-bind`ã¨åŒã˜ãä¸‰é …æ¼”ç®—å­ç­‰JavaScriptã®å¼ã‚’è©•ä¾¡ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

JavaSciptã®å¼ã‚’è©•ä¾¡ã•ã›ã‚‹å ´åˆã«ã¯ã‚¯ã‚©ãƒ¼ãƒˆã§åŠ å·¥å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚

```vue
<script setup lang="ts">
import { ref } from "@vue/reactivity";

const theme = ref<"dark" | "light">("dark");

const toggleTheme = () => {
  if (theme.value === "dark") {
    theme.value = "light";
  } else {
    theme.value = "dark";
  }
};
</script>

<template>
  <div class="container">
    <h1 class="title">ã‚¿ã‚¤ãƒˆãƒ«</h1>
    <button @click="toggleTheme">ãƒ†ãƒ¼ãƒå¤‰æ›´</button>
  </div>
</template>

<style scoped>
.container {
  height: 100vh;
  width: 100vw;
  background-color: v-bind('theme === "dark" ? "#000": "#fff"');
  color: v-bind('theme === "dark" ? "#fff": "#000"');
}
</style>

```

![css-bind](//images.contentful.com/in6v9lxmm5c8/64QanuWjtALtgvjI1D5kf7/2922c022f1e206b9ace447eb505a596f/css-bind-operator.gif)

## é…åˆ—ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã™

`v-bind`ã«é…åˆ—ã‚’æ¸¡ã™ã¨ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§å±•é–‹ã•ã‚Œã¾ã™ã€‚å˜ç´”ã«`array#toString`ãŒå‘¼ã°ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

```css
.title {
  color: v-bind([ "red", "green", "blue" ]);
}
```

```css
style attribute {
    --7ba5bd90-colors: red,green,blue;
}
```

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚‚åŒæ§˜ã§ã™ã€‚

```vue
<script setup lang="ts">
import { ref } from "@vue/reactivity";

const themes = ref({
  light: {
    textColor: "#fff",
  },
  dark: {
    textColor: "#000",
  },
});
</script>

<style scoped>
.title {
  color: v-bind(themes);
}
</style>
```

```css
style attribute {
    --7ba5bd90-themes: [object Object];
}
```

## v-bindãŒä½¿ãˆã‚‹å ´æ‰€

`<style>`ã‚¿ã‚°å†…ãªã‚‰ã©ã“ã§ã‚‚`v-bind`ãŒä½¿ãˆã‚‹ã‚ã‘ã§ã¯ãªã„ã£ã½ã„ã€‚

```css
<style scoped>
// Unknown word
.container {
  v-bind(container)
}
</style>
```


```css
<style scoped>
// Unknown word
v-bind(container)
</style>
```

## é–¢æ•°å‘¼ã³å‡ºã—

JavaScriptã®å¼ã‚’è©•ä¾¡ã§ãã‚‹ã®ã§ã€ã“ã¡ã‚‰ã‚‚å½“ç„¶ã§ãã¾ã™ã­ã€‚

```vue
<script setup lang="ts">
const textColor = () => {
  return Math.random() < 0.5 ? "red" : "blue";
};
</script>

<template>
  <div class="container">
    <h1 class="title">ã‚¿ã‚¤ãƒˆãƒ«</h1>
  </div>
</template>

<style scoped>
.title {
  color: v-bind("textColor()");
}
</style>
```

é–¢æ•°å®£è¨€ã§ã‚‚æœ‰åŠ¹ã§ã™

```vue
<script setup lang="ts">
function textColor() {
  return Math.random() < 0.5 ? "red" : "blue";
}
</script>

<template>
  <div class="container">
    <h1 class="title">ã‚¿ã‚¤ãƒˆãƒ«</h1>
  </div>
</template>

<style scoped>
.title {
  color: v-bind("textColor()");
}
</style>
```

## CSSã®ã‚³ãƒ¡ãƒ³ãƒˆã§å›²ã£ãŸæ–‡å­—åˆ—ã‚’ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹

CSSã®ã‚³ãƒ¡ãƒ³ãƒˆã§å›²ã£ãŸç®‡æ‰€ã¯ã—ã£ã‹ã‚Šæ¶ˆãˆã¦ã„ã¾ã™ã­ã€‚

```vue
<script setup lang="ts">
const color = `/* red */blue`;
</script>

<template>
  <div class="container">
    <h1 class="title">ã‚¿ã‚¤ãƒˆãƒ«</h1>
  </div>
</template>

<style scoped>
.title {
  color: v-bind(color);
}
</style>
```

```css
element.style {
    --7ba5bd90-color: blue;
}
```

## v-bindã§CSSå¤‰æ•°ã®å‚ç…§

ã“ã‚Œã¯ã§ããªã„ã§ã™ã€‚

```vue
<script setup lang="ts">
const color = "--main-bg-color";
</script>

<template>
  <div>
    <h1 class="color">ã‚¿ã‚¤ãƒˆãƒ«</h1>
    <button class="color" @click="onclick">Button</button>
  </div>
</template>

<style>
:root {
  --main-bg-color: brown;
}
</style>

<style scoped>
.color {
  color: var(v-bind(color));
}
</style>
```

ã“ã‚Œã¯ã§ãã¾ã™ã€‚

```vue
<script setup lang="ts">
const color = "var(--main-bg-color)";
</script>

<template>
  <div>
    <h1 class="color">ã‚¿ã‚¤ãƒˆãƒ«</h1>
    <button class="color" @click="onclick">Button</button>
  </div>
</template>

<style>
:root {
  --main-bg-color: brown;
}
</style>

<style scoped>
.color {
  color: v-bind(color);
}
</style>
```

## ãƒã‚¤ãƒ³ãƒ‰ã—ãŸCSSã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹è¦ç´ ã®styleã‚’å‹•çš„nullã«å¤‰æ›´ã™ã‚‹ã¨ãƒ»ãƒ»ãƒ»?

ã¤ã¾ã‚Šã“ã†ã„ã†ã“ã¨

```vue
<script setup lang="ts">
import { ref } from "vue";

const style = ref<any>({ fontSize: "40px" });
const onclick = () => {
  style.value = null;
};

const color = "red";
</script>

<template>
  <h1 class="color" :style="style">ã‚¿ã‚¤ãƒˆãƒ«</h1>
  <button class="color" @click="onclick">Button</button>
</template>

<style scoped>
.color {
  color: v-bind(color);
}
</style>
```

æ­£ã—ã„å‹•ä½œãªã®ã‹ã‚ˆãã‚ã‹ã‚‰ãªã„ã§ã™ãŒã€`style`ã‚’ãƒã‚¤ãƒ³ãƒ‰ã—ã¦ã„ãŸå ´åˆãã®å€¤ã‚’`null`ã«ã™ã‚‹ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã«å±•é–‹ã•ã‚Œã¦ã„ãŸCSSå¤‰æ•°ã‚‚æ¶ˆãˆã¦ã—ã¾ã—ã¾ã„ã¾ã™ã€‚

![style-binding](//images.contentful.com/in6v9lxmm5c8/7k9GqQRi1P8nAwHwU2xtMo/d6a2f49fa2cdfe06d131d06946d6d5e2/style-binding.gif)

ã¡ãªã¿ã«ã€`<template>`ã«ãƒ«ãƒ¼ãƒˆè¦ç´ ãŒã‚ã‚‹å ´åˆãã®è¦ç´ ã«å¯¾ã—ã¦CSSå¤‰æ•°ãŒå±•é–‹ã•ã‚Œã‚‹ã®ã§ã€ãƒ«ãƒ¼ãƒˆè¦ç´ ã®styleã‚’`null`ã«ã™ã‚‹ã¨ã™ã¹ã¦ã®CSSå¤‰æ•°ãŒæ¶ˆãˆã¦ã—ã¾ã„ã¾ã™ã€‚

```vue
<script setup lang="ts">
import { ref } from "vue";

const style = ref<any>({ fontSize: "20px" });
const onclick = () => {
  style.value = null;
};

const color = "red";
</script>

<template>
  <div :style="style">
    <h1 class="color">ã‚¿ã‚¤ãƒˆãƒ«</h1>
    <button class="color" @click="onclick">Button</button>
  </div>
</template>

<style scoped>
.color {
  color: v-bind(color);
}
</style>
```

![root-style-binding](//images.contentful.com/in6v9lxmm5c8/2L8HuUhWjjlnJFmeMhpnQ/7db21b4d1d53dcb246e2beb3d6930ef8/root-style-binding.gif)
